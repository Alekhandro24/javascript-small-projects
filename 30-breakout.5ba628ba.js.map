{"mappings":"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","sources":["src/js/30-breakout.js"],"sourcesContent":["const grid = document.querySelector(\".grid\");\nconst scoreDisplay = document.querySelector(\"#score\");\n\nconst blockWidth = 100;\nconst blockHeight = 20;\nconst ballDiameter = 20;\nconst boardWidth = 560;\nconst boardHeight = 300;\nlet timerId;\nlet xDirection = -2;\nlet yDirection = 2;\nlet score = 0;\n\nconst userStart = [230, 10];\nlet currentPosition = userStart;\n\nconst ballStart = [270, 40];\nlet ballCurrentPosition = ballStart;\n\n//create block\nclass Block {\n  constructor(xAxis, yAxis) {\n    this.bottomLeft = [xAxis, yAxis];\n    this.bottomRight = [xAxis + blockWidth, yAxis];\n    this.topLeft = [xAxis, yAxis + blockHeight];\n    this.topRight = [xAxis + blockWidth, yAxis + blockHeight];\n  }\n}\n\nconst blocks = [\n  new Block(10, 270),\n  new Block(120, 270),\n  new Block(230, 270),\n  new Block(340, 270),\n  new Block(450, 270),\n  new Block(10, 240),\n  new Block(120, 240),\n  new Block(230, 240),\n  new Block(340, 240),\n  new Block(450, 240),\n  new Block(10, 210),\n  new Block(120, 210),\n  new Block(230, 210),\n  new Block(340, 210),\n  new Block(450, 210),\n];\n\n//block\nfunction addBlocks() {\n  for (i = 0; i < blocks.length; i++) {\n    const block = document.createElement(\"div\");\n    block.classList.add(\"block\");\n    block.style.left = blocks[i].bottomLeft[0] + \"px\";\n    block.style.bottom = blocks[i].bottomLeft[1] + \"px\";\n    grid.appendChild(block);\n  }\n}\n\naddBlocks();\n\n//add user\nconst user = document.createElement(\"div\");\nuser.classList.add(\"user\");\ndrawUser();\ngrid.appendChild(user);\n\n//draw the user\nfunction drawUser() {\n  user.style.left = currentPosition[0] + \"px\";\n  user.style.bottom = currentPosition[1] + \"px\";\n}\n\n//draw the user\nfunction drawBall() {\n  ball.style.left = ballCurrentPosition[0] + \"px\";\n  ball.style.bottom = ballCurrentPosition[1] + \"px\";\n}\n\n//move user\nfunction moveUser(e) {\n  switch (e.key) {\n    case \"ArrowLeft\":\n      if (currentPosition[0] > 0) {\n        currentPosition[0] -= 10;\n        drawUser();\n      }\n      break;\n    case \"ArrowRight\":\n      if (currentPosition[0] < boardWidth - blockWidth) {\n        currentPosition[0] += 10;\n        drawUser();\n      }\n      break;\n    default:\n      break;\n  }\n}\n\ndocument.addEventListener(\"keydown\", moveUser);\n\n//add ball\nconst ball = document.createElement(\"div\");\nball.classList.add(\"ball\");\ndrawBall();\ngrid.appendChild(ball);\n\n// move the ball\n\nfunction moveBall() {\n  ballCurrentPosition[0] += xDirection;\n  ballCurrentPosition[1] += yDirection;\n  drawBall();\n  checkForCollisions();\n}\n\ntimerId = setInterval(moveBall, 30);\n\n//check for collisions\n\nfunction checkForCollisions() {\n  //check for block collisions\n  for (let i = 0; i < blocks.length; i++) {\n    if (\n      ballCurrentPosition[0] > blocks[i].bottomLeft[0] &&\n      ballCurrentPosition[0] < blocks[i].bottomRight[0] &&\n      ballCurrentPosition[1] + ballDiameter > blocks[i].bottomLeft[1] &&\n      ballCurrentPosition[1] < blocks[i].topLeft[1]\n    ) {\n      const allBlocks = Array.from(document.querySelectorAll(\".block\"));\n      allBlocks[i].classList.remove(\"block\");\n\n      blocks.splice(i, 1);\n      changeDirection();\n      score++;\n      scoreDisplay.innerHTML = score;\n\n      //check for win\n      if (blocks.length === 0) {\n        scoreDisplay.innerHTML = \"You WIN!\";\n        clearInterval(timerId);\n        document.removeEventListener(\"keydown\", moveUser);\n      }\n    }\n  }\n\n  //check for wall collisions\n  if (\n    ballCurrentPosition[0] >= boardWidth - ballDiameter ||\n    ballCurrentPosition[1] >= boardHeight - ballDiameter ||\n    ballCurrentPosition[0] <= 0\n  ) {\n    changeDirection();\n  }\n\n  //check for user collisions\n  if (\n    ballCurrentPosition[0] > currentPosition[0] &&\n    ballCurrentPosition[0] < currentPosition[0] + blockWidth &&\n    ballCurrentPosition[1] > currentPosition[1] &&\n    ballCurrentPosition[1] < currentPosition[1] + blockHeight\n  ) {\n    changeDirection();\n  }\n\n  //check for game over\n  if (ballCurrentPosition[1] <= 0) {\n    clearInterval(timerId);\n    scoreDisplay.innerHTML = \"You lose!\";\n    document.removeEventListener(\"keydown\", moveUser);\n  }\n}\n\nfunction changeDirection() {\n  if (xDirection === 2 && yDirection === 2) {\n    yDirection = -2;\n    return;\n  }\n\n  if (xDirection === 2 && yDirection === -2) {\n    xDirection = -2;\n    return;\n  }\n\n  if (xDirection === -2 && yDirection === -2) {\n    yDirection = 2;\n    return;\n  }\n  if (xDirection === -2 && yDirection === 2) {\n    xDirection = 2;\n    return;\n  }\n}\n"],"names":["grid","document","querySelector","scoreDisplay","blockWidth","blockHeight","ballDiameter","boardWidth","boardHeight","timerId","xDirection","yDirection","score","userStart","currentPosition","ballStart","ballCurrentPosition","Block","constructor","xAxis","yAxis","this","bottomLeft","bottomRight","topLeft","topRight","blocks","addBlocks","i","length","block","createElement","classList","add","style","left","bottom","appendChild","user","drawUser","drawBall","ball","moveUser","e","key","addEventListener","moveBall","checkForCollisions","i1","Array","from","querySelectorAll","remove","splice","changeDirection","innerHTML","clearInterval","removeEventListener","setInterval"],"version":3,"file":"30-breakout.5ba628ba.js.map"}